# ==========================================================
# Mundo phpBB Workspace - Rotas da IDE v2.9
# ==========================================================

# Página Principal da IDE
mundophpbb_workspace_main:
    path: /workspace
    defaults: { _controller: mundophpbb.workspace.controller.main_controller:handle }
    methods: [GET]

# --- Gestão de Arquivos (file_controller) ---
mundophpbb_workspace_load_file:
    path: /workspace/load
    defaults: { _controller: mundophpbb.workspace.controller.file_controller:load_file }
    methods: [POST]

mundophpbb_workspace_save_file:
    path: /workspace/save
    defaults: { _controller: mundophpbb.workspace.controller.file_controller:save_file }
    methods: [POST]

mundophpbb_workspace_add_file:
    path: /workspace/add_file
    defaults: { _controller: mundophpbb.workspace.controller.file_controller:add_file }
    methods: [POST]

mundophpbb_workspace_rename_file:
    path: /workspace/rename
    defaults: { _controller: mundophpbb.workspace.controller.file_controller:rename_file }
    methods: [POST]

mundophpbb_workspace_delete_file:
    path: /workspace/delete_file
    defaults: { _controller: mundophpbb.workspace.controller.file_controller:delete_file }
    methods: [POST]

mundophpbb_workspace_upload_file:
    path: /workspace/upload
    defaults: { _controller: mundophpbb.workspace.controller.file_controller:upload_file }
    methods: [POST]

# --- Gestão de Projetos (project_controller) ---
mundophpbb_workspace_add_project:
    path: /workspace/add
    defaults: { _controller: mundophpbb.workspace.controller.project_controller:add_project }
    methods: [POST]

mundophpbb_workspace_delete_project:
    path: /workspace/delete_project
    defaults: { _controller: mundophpbb.workspace.controller.project_controller:delete_project }
    methods: [POST]

# --- Ferramentas Avançadas (tool_controller) ---
mundophpbb_workspace_generate_diff:
    path: /workspace/diff
    defaults: { _controller: mundophpbb.workspace.controller.tool_controller:generate_diff }
    methods: [POST]

mundophpbb_workspace_search_project:
    path: /workspace/search
    defaults: { _controller: mundophpbb.workspace.controller.tool_controller:search_project }
    methods: [POST]

mundophpbb_workspace_replace_project:
    path: /workspace/replace
    defaults: { _controller: mundophpbb.workspace.controller.tool_controller:replace_project }
    methods: [POST]

mundophpbb_workspace_generate_changelog:
    path: /workspace/changelog/{project_id}
    defaults: { _controller: mundophpbb.workspace.controller.tool_controller:generate_changelog }
    methods: [POST]
    requirements:
        project_id: \d+

mundophpbb_workspace_purge_cache:
    path: /workspace/purge_cache
    defaults: { _controller: mundophpbb.workspace.controller.tool_controller:purge_cache }
    methods: [POST]

mundophpbb_workspace_duplicate:
    path: /workspace/duplicate
    defaults: { _controller: mundophpbb.workspace.controller.tool_controller:duplicate_file }
    methods: [POST]

mundophpbb_workspace_export_gist:
    path: /workspace/export_gist
    defaults: { _controller: mundophpbb.workspace.controller.tool_controller:export_gist }
    methods: [POST]

mundophpbb_workspace_skeleton:
    path: /workspace/generate_skeleton
    defaults: { _controller: mundophpbb.workspace.controller.tool_controller:generate_skeleton }
    methods: [POST]

# Rota de Exportação ZIP (v2.9)
mundophpbb_workspace_export_zip:
    path: /workspace/export_zip/{project_id}
    defaults: { _controller: mundophpbb.workspace.controller.tool_controller:export_project_zip }
    methods: [GET]
    requirements:
        project_id: \d+